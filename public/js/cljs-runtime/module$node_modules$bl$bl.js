shadow$provide.module$node_modules$bl$bl=function(global,require,module,exports){function BufferListStream(callback){if(!(this instanceof BufferListStream))return new BufferListStream(callback);if("function"===typeof callback){this._callback=callback;const piper=function(err){this._callback&&(this._callback(err),this._callback=null)}.bind(this);this.on("pipe",function(src){src.on("error",piper)});this.on("unpipe",function(src){src.removeListener("error",piper)});callback=null}BufferList._init.call(this,
callback);DuplexStream.call(this)}const DuplexStream=require("module$node_modules$bl$node_modules$readable_stream$readable_browser").Duplex;global=require("module$node_modules$inherits$inherits_browser");const BufferList=require("module$node_modules$bl$BufferList");global(BufferListStream,DuplexStream);Object.assign(BufferListStream.prototype,BufferList.prototype);BufferListStream.prototype._new=function(callback){return new BufferListStream(callback)};BufferListStream.prototype._write=function(buf,
encoding,callback){this._appendBuffer(buf);"function"===typeof callback&&callback()};BufferListStream.prototype._read=function(size){if(!this.length)return this.push(null);size=Math.min(size,this.length);this.push(this.slice(0,size));this.consume(size)};BufferListStream.prototype.end=function(chunk){DuplexStream.prototype.end.call(this,chunk);this._callback&&(this._callback(null,this.slice()),this._callback=null)};BufferListStream.prototype._destroy=function(err,cb){this.length=this._bufs.length=
0;cb(err)};BufferListStream.prototype._isBufferList=function(b){return b instanceof BufferListStream||b instanceof BufferList||BufferListStream.isBufferList(b)};BufferListStream.isBufferList=BufferList.isBufferList;module.exports=BufferListStream;module.exports.BufferListStream=BufferListStream;module.exports.BufferList=BufferList}
//# sourceMappingURL=module$node_modules$bl$bl.js.map
